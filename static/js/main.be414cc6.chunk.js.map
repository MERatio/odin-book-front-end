{"version":3,"sources":["utils/bus.js","lib/getData.js","components/BootstrapSpinner.js","components/Alert.js","components/Alerts.js","lib/getGravatarImage.js","lib/getUserPicture.js","components/UsersShowNavbarLink.js","components/Navbar.js","hooks/useIsMounted.js","lib/postMultipartData.js","components/SubmitBtn.js","components/SignUpForm.js","components/SignUpModal.js","lib/postData.js","configs/facebookSdkConfig.js","components/SignInForm.js","views/SignInView.js","lib/getPostPicture.js","components/PostCard.js","components/PostsCards.js","views/PostsIndexView.js","views/UsersShowView.js","App.js","reportWebVitals.js","index.js"],"names":["EventEmitter","a","url","fetch","method","headers","Accept","Authorization","localStorage","getItem","response","json","getData","BootstrapSpinner","type","size","classes","className","style","width","height","role","defaultProps","Alert","alert","onAlertDelete","useEffect","timeoutId","setTimeout","id","clearTimeout","data-id","xmlns","fill","viewBox","aria-label","d","determineAlertIcon","msg","onClick","Alerts","alerts","map","getGravatarImage","email","defaultImage","hash","md5","getUserPicture","currentUser","picture","currentUserPicture","isLocal","filename","process","UsersShowNavbarLink","path","children","match","exact","to","_id","src","alt","firstName","Navbar","signOut","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","useIsMounted","useState","isMounted","setIsMouted","formData","getResponse","body","postMultipartData","SubmitBtn","text","loadingText","disabled","isSubmitting","aria-hidden","SignUpForm","setCurrentUser","lastName","password","passwordConfirmation","state","setState","setIsSubmitting","handleInputChange","e","target","name","value","prevState","handleInputFocus","input","invalidFeedbackDivs","parentNode","querySelectorAll","length","classList","remove","removeFormErrors","signUpForm","document","getElementById","inputs","addFormErrors","errors","error","querySelector","param","formGroup","add","invalidFeedbackDiv","createElement","invalidFeedbackDivText","createTextNode","appendChild","insertAdjacentElement","preventDefault","FormData","data","err","window","message","isEmailErrorIncluded","isPictureErrorIncluded","user","Modal","getInstance","hide","setItem","jwt","signUpModal","pictureInput","addEventListener","onSubmit","placeholder","onChange","onFocus","htmlFor","accept","SignUpModal","tabIndex","aria-labelledby","data-modal-id","modalId","dataset","JSON","stringify","postData","fbAsyncInit","FB","init","appId","cookie","xfbml","version","AppEvents","logPageView","s","js","fjs","getElementsByTagName","insertBefore","facebookSdkConfig","SignInForm","setIsLoading","undefined","isFacebookSdkLoaded","setIsFacebookSdkLoaded","isFacebookPopupOpen","setIsFacebookLPopupOpen","facebookResponse","setFacebookResponse","getLoginStatus","sendAccessTokenToApi","userAccessToken","authResponse","accessToken","postResponse","status","isDataAccessExpired","data_access_expiration_time","Date","now","isScopesGranted","scopes","grantedScopes","split","scopesArr","scope","includes","missingGrantedScopes","notGrantedScopes","openFacebookPopup","login","handleFacebookPopupResponse","auth_type","return_scopes","show","SignIn","post","PostCard","postPicture","getPostPicture","title","author","format","updatedAt","reactions","pluralize","comments","PostsCards","postsCards","posts","propTypes","PropTypes","array","isRequired","PostsIndexView","isFetchingInitialCurrentPosts","setIsFetchingInitialCurrentPosts","currentPage","setCurrentPage","currentPosts","setCurrentPosts","totalPostsCount","setTotalPostsCount","hasMore","setHasMore","fetchData","prevCurrentPosts","concat","fetchAndSetData","dataLength","next","prevCurrentPage","loader","overflow","UsersShowView","userId","useParams","App","history","useHistory","isLoading","setAlerts","bus","addListener","alertsWithId","nanoid","emit","fetchAndSetCurrentUser","removeItem","push","alertId","newAlerts","filter","SignInView","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","require","config","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.be414cc6.chunk.js","sourcesContent":["import EventEmitter from 'events';\n\nexport default new EventEmitter();\n","async function getData(url = '') {\n\tconst response = await fetch(url, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\tAuthorization: `Bearer ${localStorage.getItem('jwt')}`,\n\t\t},\n\t});\n\treturn response.json();\n}\n\nexport default getData;\n","import PropTypes from 'prop-types';\n\nfunction BootstrapSpinner({ type, size, classes }) {\n\treturn (\n\t\t<div className={classes}>\n\t\t\t<div\n\t\t\t\tclassName={`spinner-${type} text-primary`}\n\t\t\t\tstyle={{ width: size, height: size }}\n\t\t\t\trole=\"status\"\n\t\t\t>\n\t\t\t\t<span className=\"visually-hidden\">Loading...</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nBootstrapSpinner.defaultProps = {\n\ttype: 'border',\n\tsize: '2em',\n\tclasses: '',\n};\n\nBootstrapSpinner.propTypes = {\n\ttype: PropTypes.string.isRequired,\n\tsize: PropTypes.string.isRequired,\n\tclasses: PropTypes.string.isRequired,\n};\n\nexport default BootstrapSpinner;\n","import { useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Alert({ alert, onAlertDelete }) {\n\tfunction determineAlertIcon(type) {\n\t\tconst size = 24;\n\t\tswitch (type) {\n\t\t\tcase 'success':\n\t\t\t\treturn (\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\twidth={size}\n\t\t\t\t\t\theight={size}\n\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\tclassName=\"bi bi-check-circle-fill flex-shrink-0 me-2\"\n\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\trole=\"img\"\n\t\t\t\t\t\taria-label=\"Success:\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z\" />\n\t\t\t\t\t</svg>\n\t\t\t\t);\n\t\t\tcase 'info':\n\t\t\t\treturn (\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\twidth={size}\n\t\t\t\t\t\theight={size}\n\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\tclassName=\"bi bi-info-circle-fill flex-shrink-0 me-2\"\n\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\trole=\"img\"\n\t\t\t\t\t\taria-label=\"Info:\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path d=\"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\" />\n\t\t\t\t\t</svg>\n\t\t\t\t);\n\t\t\tcase 'warning':\n\t\t\tcase 'danger':\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\twidth={size}\n\t\t\t\t\t\theight={size}\n\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\tclassName=\"bi bi-exclamation-circle-fill flex-shrink-0 me-2\"\n\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\trole=\"img\"\n\t\t\t\t\t\taria-label={type === 'warning' ? 'Warning:' : 'Danger:'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<path d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z\" />\n\t\t\t\t\t</svg>\n\t\t\t\t);\n\t\t}\n\t}\n\tfunction handleAlertDelete() {\n\t\tonAlertDelete(alert.id);\n\t}\n\n\t// Delete alert after 4 sec.\n\t// Timeout will reset if an alert is deleted, because of rerender.\n\tuseEffect(() => {\n\t\tconst timeoutId = setTimeout(() => onAlertDelete(alert.id), 10000);\n\t\treturn () => clearTimeout(timeoutId);\n\t}, [alert, onAlertDelete]);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`alert alert-${\n\t\t\t\talert.type || 'danger'\n\t\t\t} d-flex align-items-center alert-dismissible mb-1`}\n\t\t\trole=\"alert\"\n\t\t\tdata-id={alert.id}\n\t\t>\n\t\t\t{determineAlertIcon(alert.type)}\n\t\t\t<div>{alert.msg}</div>\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"btn-close\"\n\t\t\t\taria-label=\"Close\"\n\t\t\t\tonClick={handleAlertDelete}\n\t\t\t></button>\n\t\t</div>\n\t);\n}\n\nAlert.propTypes = {\n\talert: PropTypes.object.isRequired,\n\tonAlertDelete: PropTypes.func.isRequired,\n};\n\nexport default Alert;\n","import PropTypes from 'prop-types';\nimport Alert from './Alert';\n\nfunction Alerts({ alerts, onAlertDelete }) {\n\treturn (\n\t\t<>\n\t\t\t{alerts.map((alert) => (\n\t\t\t\t<Alert key={alert.id} alert={alert} onAlertDelete={onAlertDelete} />\n\t\t\t))}\n\t\t</>\n\t);\n}\n\nAlerts.propTypes = {\n\talerts: PropTypes.array.isRequired,\n\tonAlertDelete: PropTypes.func.isRequired,\n};\n\nexport default Alerts;\n","import md5 from 'crypto-js/md5';\n\nfunction getGravatarImage(email, size = '80', defaultImage = 'mp') {\n\tconst hash = md5(email);\n\tconst url = `https://www.gravatar.com/avatar/${hash}?s=${size}&d=${defaultImage}`;\n\treturn url;\n}\n\nexport default getGravatarImage;\n","import getGravatarImage from './getGravatarImage';\n\nfunction getUserPicture(currentUser, size = '80', defaultImage = 'mp') {\n\tconst picture = currentUser.picture;\n\tconst currentUserPicture = picture.isLocal\n\t\t? picture.filename === ''\n\t\t\t? getGravatarImage(currentUser.email, size, defaultImage)\n\t\t\t: `${process.env.REACT_APP_API_URL}/images/${picture.filename}`\n\t\t: picture.filename;\n\n\treturn currentUserPicture;\n}\n\nexport default getUserPicture;\n","import PropTypes from 'prop-types';\nimport { Route, NavLink } from 'react-router-dom';\nimport getUserPicture from '../lib/getUserPicture';\n\nfunction UsersShowNavbarLink({ currentUser }) {\n  return (\n    <Route\n      path=\"/users/userId\"\n      children={({ match }) => (\n        <NavLink\n          className={`nav-link ${match ? 'active' : ''}`}\n          {...(match && { 'aria-current': 'page' })}\n          exact\n          to={`/users/${currentUser._id}`}\n        >\n          <img\n            className=\"rounded-circle me-2\"\n            src={getUserPicture(currentUser)}\n            alt=\"Current user\"\n            width=\"28\"\n            height=\"28\"\n          />\n          <span>{currentUser.firstName}</span>\n        </NavLink>\n      )}\n    />\n  );\n}\n\nUsersShowNavbarLink.propTypes = {\n  currentUser: PropTypes.object.isRequired,\n};\n\nexport default UsersShowNavbarLink;\n","import PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport UsersShowNavbarLink from './UsersShowNavbarLink';\n\nfunction Navbar({ currentUser, signOut }) {\n  return (\n    <nav className=\"navbar navbar-expand-sm navbar-dark bg-dark sticky-top\">\n      <div className=\"container-fluid\">\n        <NavLink className=\"navbar-brand\" to=\"/posts\">\n          Odin Book\n        </NavLink>\n        <button\n          className=\"navbar-toggler\"\n          type=\"button\"\n          data-bs-toggle=\"collapse\"\n          data-bs-target=\"#navbarSupportedContent\"\n          aria-controls=\"navbarSupportedContent\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n          <ul className=\"navbar-nav ms-auto mb-2 mb-sm-0\">\n            <li className=\"nav-item me-4\">\n              <UsersShowNavbarLink currentUser={currentUser} />\n            </li>\n            <li className=\"nav-item\">\n              <button\n                type=\"button\"\n                className=\"btn btn-outline-light\"\n                onClick={signOut}\n              >\n                Sign out\n              </button>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n}\n\nNavbar.propTypes = {\n  currentUser: PropTypes.object.isRequired,\n  signOut: PropTypes.func.isRequired,\n};\n\nexport default Navbar;\n","import { useEffect, useState } from 'react';\n\nfunction useIsMounted() {\n\tconst [isMounted, setIsMouted] = useState(false);\n\n\tuseEffect(() => {\n\t\tsetIsMouted(true);\n\t\treturn () => setIsMouted(false);\n\t}, []);\n\n\treturn isMounted;\n}\n\nexport default useIsMounted;\n","async function postMultipartData(url = '', formData = {}, getResponse = false) {\n\tconst response = await fetch(url, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\tAuthorization: `Bearer ${localStorage.getItem('jwt')}`,\n\t\t},\n\t\tbody: formData,\n\t});\n\treturn getResponse ? response : response.json();\n}\n\nexport default postMultipartData;\n","import PropTypes from 'prop-types';\n\nfunction SubmitBtn({ className, text, loadingText, disabled, isSubmitting }) {\n\treturn (\n\t\t<button\n\t\t\ttype=\"submit\"\n\t\t\tclassName={className}\n\t\t\tdisabled={disabled || isSubmitting}\n\t\t>\n\t\t\t{isSubmitting ? (\n\t\t\t\t<>\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName=\"spinner-border spinner-border-sm fw-bold\"\n\t\t\t\t\t\trole=\"status\"\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t></span>\n\t\t\t\t\t{loadingText}\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<span className=\"fw-bold\">{text}</span>\n\t\t\t)}\n\t\t</button>\n\t);\n}\n\nSubmitBtn.defaultProps = {\n\tclassName: '',\n\ttext: 'Submit',\n\tdisabled: false,\n};\n\nSubmitBtn.propTypes = {\n\tclassName: PropTypes.string.isRequired,\n\ttext: PropTypes.string.isRequired,\n\tloadingText: PropTypes.string.isRequired,\n\tdisabled: PropTypes.bool.isRequired,\n\tisSubmitting: PropTypes.bool.isRequired,\n};\n\nexport default SubmitBtn;\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal } from 'bootstrap/dist/js/bootstrap.bundle';\nimport useIsMounted from '../hooks/useIsMounted';\nimport postMultipartData from '../lib/postMultipartData';\nimport SubmitBtn from './SubmitBtn';\n\nfunction SignUpForm({ setCurrentUser }) {\n\tconst isMounted = useIsMounted();\n\n\t// Can only set file input value to '' for security reason.\n\tconst [state, setState] = useState({\n\t\tfirstName: '',\n\t\tlastName: '',\n\t\temail: '',\n\t\tpassword: '',\n\t\tpasswordConfirmation: '',\n\t});\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\n\n\tfunction handleInputChange(e) {\n\t\tconst target = e.target;\n\t\tconst name = target.name;\n\t\tconst value = target.value;\n\t\tsetState((prevState) => ({ ...prevState, [name]: value }));\n\t}\n\n\tfunction handleInputFocus(e) {\n\t\tconst input = e.target;\n\t\tconst formGroup = input.parentNode;\n\t\tconst invalidFeedbackDivs = formGroup.querySelectorAll('.invalid-feedback');\n\t\tif (invalidFeedbackDivs.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tinput.classList.remove('is-invalid');\n\t\tfor (const invalidFeedbackDiv of invalidFeedbackDivs) {\n\t\t\tinvalidFeedbackDiv.remove();\n\t\t}\n\t}\n\n\tfunction removeFormErrors() {\n\t\tconst signUpForm = document.getElementById('signUpForm');\n\t\tif (signUpForm) {\n\t\t\tconst invalidFeedbackDivs =\n\t\t\t\tsignUpForm.querySelectorAll('.invalid-feedback');\n\t\t\tif (invalidFeedbackDivs.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst inputs = signUpForm.querySelectorAll('input');\n\t\t\tfor (const input of inputs) {\n\t\t\t\tinput.classList.remove('is-invalid');\n\t\t\t}\n\t\t\tfor (const invalidFeedbackDiv of invalidFeedbackDivs) {\n\t\t\t\tinvalidFeedbackDiv.remove();\n\t\t\t}\n\t\t}\n\t}\n\n\tasync function handleSubmit(e) {\n\t\te.preventDefault();\n\t\tremoveFormErrors();\n\t\tsetIsSubmitting(true);\n\t\tfunction addFormErrors(errors) {\n\t\t\tconst signUpForm = document.getElementById('signUpForm');\n\t\t\tfor (const error of errors) {\n\t\t\t\tconst input = signUpForm.querySelector(`input[name='${error.param}']`);\n\t\t\t\tconst formGroup = input.parentNode;\n\t\t\t\tinput.classList.add('is-invalid');\n\t\t\t\tconst invalidFeedbackDiv = document.createElement('div');\n\t\t\t\tinvalidFeedbackDiv.classList.add('invalid-feedback');\n\t\t\t\tconst invalidFeedbackDivText = document.createTextNode(error.msg);\n\t\t\t\tinvalidFeedbackDiv.appendChild(invalidFeedbackDivText);\n\t\t\t\tformGroup.insertAdjacentElement('beforeend', invalidFeedbackDiv);\n\t\t\t}\n\t\t}\n\n\t\ttry {\n\t\t\tconst data = await postMultipartData(\n\t\t\t\t`${process.env.REACT_APP_API_URL}/users`,\n\t\t\t\tnew FormData(e.target)\n\t\t\t);\n\t\t\tsetIsSubmitting(false);\n\t\t\tif (data.err) {\n\t\t\t\twindow.alerts([{ msg: data.err.message }]);\n\t\t\t} else if (data.errors) {\n\t\t\t\tlet isEmailErrorIncluded = false;\n\t\t\t\tlet isPictureErrorIncluded = false;\n\t\t\t\tfor (const error of data.errors) {\n\t\t\t\t\tswitch (error.param) {\n\t\t\t\t\t\tcase 'email':\n\t\t\t\t\t\t\tisEmailErrorIncluded = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'picture':\n\t\t\t\t\t\t\tisPictureErrorIncluded = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tisMounted &&\n\t\t\t\t\tsetState({\n\t\t\t\t\t\tfirstName: data.user.firstName,\n\t\t\t\t\t\tlastName: data.user.lastName,\n\t\t\t\t\t\t/* Validator package normalizeEmail() adds a '@' at the front\n\t\t\t\t\t\t   if email is not valid.\n\t\t\t\t\t\t*/\n\t\t\t\t\t\temail: isEmailErrorIncluded ? '' : data.user.email,\n\t\t\t\t\t\t...(isPictureErrorIncluded && { picture: '' }),\n\t\t\t\t\t\tpassword: '',\n\t\t\t\t\t\tpasswordConfirmation: '',\n\t\t\t\t\t});\n\t\t\t\taddFormErrors(data.errors);\n\t\t\t} else {\n\t\t\t\tconst bsSignUpModal = Modal.getInstance(\n\t\t\t\t\tdocument.getElementById('signUpModal')\n\t\t\t\t);\n\t\t\t\tbsSignUpModal.hide();\n\t\t\t\tlocalStorage.setItem('jwt', data.jwt);\n\t\t\t\tsetCurrentUser(data.user);\n\t\t\t\twindow.alerts([\n\t\t\t\t\t{ msg: 'You have successfuly signed up', type: 'success' },\n\t\t\t\t]);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetIsSubmitting(false);\n\t\t\twindow.alerts([{ msg: err.message }]);\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tconst signUpModal = document.getElementById('signUpModal');\n\t\tconst pictureInput = document.getElementById('picture');\n\t\t// Reset state when sign up modal gets hidden.\n\t\tsignUpModal.addEventListener('hidden.bs.modal', (e) => {\n\t\t\tremoveFormErrors();\n\t\t\tsetState({\n\t\t\t\tfirstName: '',\n\t\t\t\tlastName: '',\n\t\t\t\temail: '',\n\t\t\t\tpicture: '',\n\t\t\t\tpassword: '',\n\t\t\t\tpasswordConfirmation: '',\n\t\t\t});\n\t\t\tpictureInput.value = '';\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<form onSubmit={handleSubmit} id=\"signUpForm\">\n\t\t\t<div className=\"mb-3\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tplaceholder=\"First name\"\n\t\t\t\t\taria-label=\"First name\"\n\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\tvalue={state.firstName}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tonFocus={handleInputFocus}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"mb-3\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tplaceholder=\"Last name\"\n\t\t\t\t\taria-label=\"Last name\"\n\t\t\t\t\tname=\"lastName\"\n\t\t\t\t\tvalue={state.lastName}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tonFocus={handleInputFocus}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"mb-3\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\taria-label=\"Email\"\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\tvalue={state.email}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tonFocus={handleInputFocus}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"input-group mb-3\">\n\t\t\t\t<label className=\"input-group-text\" htmlFor=\"picture\">\n\t\t\t\t\tUpload picture (optional)\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tid=\"picture\"\n\t\t\t\t\tname=\"picture\"\n\t\t\t\t\tonFocus={handleInputFocus}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"mb-3\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\taria-label=\"Password\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tvalue={state.password}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tonFocus={handleInputFocus}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"mb-3\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tplaceholder=\"Password confirmation\"\n\t\t\t\t\taria-label=\"Password confirmation\"\n\t\t\t\t\tname=\"passwordConfirmation\"\n\t\t\t\t\tvalue={state.passwordConfirmation}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tonFocus={handleInputFocus}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<SubmitBtn\n\t\t\t\tclassName=\"btn btn-success btn-lg w-100 rounded-3\"\n\t\t\t\ttext=\"Sign Up\"\n\t\t\t\tloadingText=\"Signing Up...\"\n\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t/>\n\t\t</form>\n\t);\n}\n\nSignUpForm.propTypes = {\n\tsetCurrentUser: PropTypes.func.isRequired,\n};\n\nexport default SignUpForm;\n","import PropTypes from 'prop-types';\nimport { Modal } from 'bootstrap/dist/js/bootstrap.bundle';\nimport SignUpForm from './SignUpForm';\n\nfunction SignUpModal({ setCurrentUser }) {\n\tfunction hideModal(e) {\n\t\tconst modalId = e.target.dataset.modalId;\n\t\tconst bsSignUpModal = Modal.getInstance(document.getElementById(modalId));\n\t\tbsSignUpModal.hide();\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"modal fade\"\n\t\t\tid=\"signUpModal\"\n\t\t\ttabIndex=\"-1\"\n\t\t\taria-labelledby=\"signUpModalLabel\"\n\t\t\taria-hidden=\"true\"\n\t\t>\n\t\t\t<div className=\"modal-dialog\">\n\t\t\t\t<div className=\"modal-content\">\n\t\t\t\t\t<div className=\"modal-header\">\n\t\t\t\t\t\t<h3 className=\"modal-title\" id=\"signUpModalLabel\">\n\t\t\t\t\t\t\tSign Up\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn-close\"\n\t\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\t\tdata-modal-id={'signUpModal'}\n\t\t\t\t\t\t\tonClick={hideModal}\n\t\t\t\t\t\t></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"modal-body\">\n\t\t\t\t\t\t<SignUpForm setCurrentUser={setCurrentUser} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nSignUpModal.propTypes = {\n\tsetCurrentUser: PropTypes.func.isRequired,\n};\n\nexport default SignUpModal;\n","async function postData(url = '', data = {}, getResponse = false) {\n\tconst response = await fetch(url, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tAuthorization: `Bearer ${localStorage.getItem('jwt')}`,\n\t\t},\n\t\tbody: JSON.stringify(data),\n\t});\n\treturn getResponse ? response : response.json();\n}\n\nexport default postData;\n","function facebookSdkConfig() {\n\t/* Facebook SDK is blocked \n\t     by blockers (Firefox Tracking Protection, uBlock Origin, etc...).\n\t   Even if window.FB is set, some resource inside Facebook SDK is blocked too. \n\t   Therefore crashing the app (can't try catch).\n\t*/\n\n\t// Facebook SDK call this function automatically (with delay).\n\twindow.fbAsyncInit = function () {\n\t\twindow.FB.init({\n\t\t\tappId: `${process.env.REACT_APP_FACEBOOK_APP_ID}`,\n\t\t\tcookie: true,\n\t\t\txfbml: true,\n\t\t\tversion: 'v10.0',\n\t\t});\n\n\t\twindow.FB.AppEvents.logPageView();\n\t};\n\n\t// Insert Facebook SDK.\n\t(function (d, s, id) {\n\t\tvar js,\n\t\t\tfjs = d.getElementsByTagName(s)[0];\n\t\tif (d.getElementById(id)) {\n\t\t\treturn;\n\t\t}\n\t\tjs = d.createElement(s);\n\t\tjs.id = id;\n\t\tjs.src = 'https://connect.facebook.net/en_US/sdk.js';\n\t\tfjs.parentNode.insertBefore(js, fjs);\n\t})(document, 'script', 'facebook-jssdk');\n}\n\nexport default facebookSdkConfig;\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal } from 'bootstrap/dist/js/bootstrap.bundle';\nimport facebookSdkConfig from '../configs/facebookSdkConfig';\nimport useIsMounted from '../hooks/useIsMounted';\nimport postData from '../lib/postData';\nimport SubmitBtn from './SubmitBtn';\n\nfacebookSdkConfig();\n\nfunction SignInForm({ setIsLoading, setCurrentUser }) {\n\tconst isMounted = useIsMounted();\n\n\tconst [state, setState] = useState({\n\t\temail: '',\n\t\tpassword: '',\n\t});\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\n\tconst [isFacebookSdkLoaded, setIsFacebookSdkLoaded] = useState(undefined);\n\tconst [isFacebookPopupOpen, setIsFacebookLPopupOpen] = useState(false);\n\tconst [facebookResponse, setFacebookResponse] = useState({});\n\n\tfunction handleInputChange(e) {\n\t\tconst target = e.target;\n\t\tconst name = target.name;\n\t\tconst value = target.value;\n\t\tsetState((prevState) => ({ ...prevState, [name]: value }));\n\t}\n\n\tasync function handleSubmit(e) {\n\t\ttry {\n\t\t\te.preventDefault();\n\t\t\tsetIsSubmitting(true);\n\t\t\tconst data = await postData(\n\t\t\t\t`${process.env.REACT_APP_API_URL}/auth/local`,\n\t\t\t\tstate\n\t\t\t);\n\t\t\tsetIsSubmitting(false);\n\t\t\tif (data.err) {\n\t\t\t\tisMounted && setState((prevState) => ({ ...prevState, password: '' }));\n\t\t\t\twindow.alerts([{ msg: data.err.message }]);\n\t\t\t} else {\n\t\t\t\tlocalStorage.setItem('jwt', data.jwt);\n\t\t\t\tsetCurrentUser(data.currentUser);\n\t\t\t\twindow.alerts([\n\t\t\t\t\t{ msg: 'You have successfuly signed in', type: 'success' },\n\t\t\t\t]);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetIsSubmitting(false);\n\t\t\twindow.alerts([{ msg: err.message }]);\n\t\t}\n\t}\n\n\tfunction handleFacebookBtnClick() {\n\t\tif (!isFacebookSdkLoaded || isFacebookPopupOpen) {\n\t\t\treturn;\n\t\t}\n\n\t\tasync function sendAccessTokenToApi(response) {\n\t\t\tsetIsLoading(true);\n\t\t\ttry {\n\t\t\t\tconst postResponse = await postData(\n\t\t\t\t\t`${process.env.REACT_APP_API_URL}/auth/facebook`,\n\t\t\t\t\t{ userAccessToken: response.authResponse.accessToken },\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tconst data = await postResponse.json();\n\t\t\t\tif (data.err) {\n\t\t\t\t\twindow.alerts([{ msg: data.err.message }]);\n\t\t\t\t} else {\n\t\t\t\t\tlocalStorage.setItem('jwt', data.jwt);\n\t\t\t\t\tsetCurrentUser(data.currentUser);\n\t\t\t\t\twindow.alerts([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmsg: `You have successfuly ${\n\t\t\t\t\t\t\t\tpostResponse.status === 200 ? 'signed in' : 'signed up'\n\t\t\t\t\t\t\t}`,\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t},\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\twindow.alerts([{ msg: err.message }]);\n\t\t\t}\n\t\t\tsetIsLoading(false);\n\t\t}\n\n\t\tfunction handleFacebookPopupResponse(response) {\n\t\t\tif (response.status === 'connected') {\n\t\t\t\tif (\n\t\t\t\t\tisDataAccessExpired(response) ||\n\t\t\t\t\t!isScopesGranted(response, 'public_profile,email')\n\t\t\t\t) {\n\t\t\t\t\twindow.alerts([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmsg: 'Facebook email is required. Please select the Facebook button again.',\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t},\n\t\t\t\t\t]);\n\t\t\t\t} else {\n\t\t\t\t\tsendAccessTokenToApi(response);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction isDataAccessExpired(response) {\n\t\t\tif (!response || !response.data_access_expiration_time) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tconst dataAccessExpirationInMilliseconds =\n\t\t\t\t\tresponse.authResponse.data_access_expiration_time * 1000;\n\t\t\t\treturn dataAccessExpirationInMilliseconds <= Date.now();\n\t\t\t}\n\t\t}\n\n\t\tfunction isScopesGranted(response, scopes) {\n\t\t\tif (\n\t\t\t\t!response ||\n\t\t\t\t!response.authResponse ||\n\t\t\t\t!response.authResponse.grantedScopes\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tconst grantedScopes = response.authResponse.grantedScopes.split(',');\n\t\t\t\tconst scopesArr = scopes.split(',');\n\t\t\t\tfor (const scope of scopesArr) {\n\t\t\t\t\tif (!grantedScopes.includes(scope)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tfunction missingGrantedScopes(response, scopes) {\n\t\t\tif (\n\t\t\t\t!response ||\n\t\t\t\t!response.authResponse ||\n\t\t\t\t!response.authResponse.grantedScopes\n\t\t\t) {\n\t\t\t\treturn scopes;\n\t\t\t} else {\n\t\t\t\tconst grantedScopes = response.authResponse.grantedScopes.split(',');\n\t\t\t\tconst scopesArr = scopes.split(',');\n\t\t\t\tlet notGrantedScopes = '';\n\t\t\t\tfor (const scope of scopesArr) {\n\t\t\t\t\tif (!grantedScopes.includes(scope)) {\n\t\t\t\t\t\tif (notGrantedScopes.length > 0) {\n\t\t\t\t\t\t\tnotGrantedScopes += ',';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnotGrantedScopes += scope;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn notGrantedScopes;\n\t\t\t}\n\t\t}\n\n\t\tfunction openFacebookPopup(response) {\n\t\t\tsetIsFacebookLPopupOpen(true);\n\t\t\twindow.FB.login(\n\t\t\t\t(response) => {\n\t\t\t\t\tsetIsFacebookLPopupOpen(false);\n\t\t\t\t\tsetFacebookResponse(response);\n\t\t\t\t\thandleFacebookPopupResponse(response);\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tscope: missingGrantedScopes(response, 'public_profile,email'),\n\t\t\t\t\t...(response.status === 'connected'\n\t\t\t\t\t\t? isDataAccessExpired(response)\n\t\t\t\t\t\t\t? { auth_type: 'reauthorize' }\n\t\t\t\t\t\t\t: !isScopesGranted(response, 'public_profile,email')\n\t\t\t\t\t\t\t? { auth_type: 'rerequest' }\n\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t: {}),\n\t\t\t\t\treturn_scopes: true,\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tfunction statusChangeCallback(response) {\n\t\t\tif (response.status !== 'connected') {\n\t\t\t\topenFacebookPopup(response);\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tisDataAccessExpired(response) ||\n\t\t\t\t\t!isScopesGranted(response, 'public_profile,email')\n\t\t\t\t) {\n\t\t\t\t\topenFacebookPopup(response);\n\t\t\t\t} else {\n\t\t\t\t\tsendAccessTokenToApi(response);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tstatusChangeCallback(facebookResponse);\n\t}\n\n\tfunction showModal(e) {\n\t\tconst modalId = e.target.dataset.modalId;\n\t\tconst bsSignUpModal = new Modal(document.getElementById(modalId));\n\t\tbsSignUpModal.show();\n\t}\n\n\tuseEffect(() => {\n\t\tconst timeoutId = setTimeout(() => {\n\t\t\tif (window.FB) {\n\t\t\t\tsetIsFacebookSdkLoaded(true);\n\t\t\t\t/* Firefox blocks Facebook popup if this is the\n\t\t\t\t\t\t first function to be called inside handleFacebookBtnClick()\n\t\t\t\t*/\n\t\t\t\twindow.FB.getLoginStatus((response) => {\n\t\t\t\t\tsetFacebookResponse(response);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetIsFacebookSdkLoaded(false);\n\t\t\t\twindow.alerts([\n\t\t\t\t\t{\n\t\t\t\t\t\tmsg: 'Facebook button is disabled because the Facebook SDK is blocked.',\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t},\n\t\t\t\t]);\n\t\t\t}\n\t\t}, 1500);\n\t\treturn () => clearTimeout(timeoutId);\n\t}, []);\n\n\treturn (\n\t\t<form onSubmit={handleSubmit} className=\"p-4 bg-white rounded-3 shadow\">\n\t\t\t<div className=\"mb-3\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control form-control-lg\"\n\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\taria-label=\"Email\"\n\t\t\t\t\tdisabled={isFacebookPopupOpen}\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\tvalue={state.email}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"mb-3\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tclassName=\"form-control form-control-lg\"\n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\taria-label=\"Password\"\n\t\t\t\t\tdisabled={isFacebookPopupOpen}\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tvalue={state.password}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<SubmitBtn\n\t\t\t\tclassName=\"btn btn-primary btn-lg w-100 rounded-3 mb-2\"\n\t\t\t\ttext=\"Sign In\"\n\t\t\t\tloadingText=\"Signing In...\"\n\t\t\t\tdisabled={isFacebookPopupOpen}\n\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t/>\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"btn btn-primary btn-lg w-100 rounded-3\"\n\t\t\t\tdisabled={!isFacebookSdkLoaded || isFacebookPopupOpen}\n\t\t\t\tonClick={handleFacebookBtnClick}\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\twidth=\"30\"\n\t\t\t\t\theight=\"30\"\n\t\t\t\t\tfill=\"#fff\"\n\t\t\t\t\tclassName=\"bi bi-facebook\"\n\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\trole=\"img\"\n\t\t\t\t\taria-label=\"Facebook icon\"\n\t\t\t\t>\n\t\t\t\t\t<path d=\"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z\" />\n\t\t\t\t</svg>\n\t\t\t\t<span className=\"fw-bold ms-2\">Continue with Facebook</span>\n\t\t\t</button>\n\t\t\t<div className=\"border-bottom my-4\"></div>\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"btn btn-success btn-lg w-100 rounded-3\"\n\t\t\t\tdata-modal-id=\"signUpModal\"\n\t\t\t\tdisabled={isFacebookPopupOpen}\n\t\t\t\tonClick={showModal}\n\t\t\t>\n\t\t\t\t<span className=\"fw-bold pe-none\">Create New Account</span>\n\t\t\t</button>\n\t\t</form>\n\t);\n}\n\nSignInForm.propTypes = {\n\tsetIsLoading: PropTypes.func.isRequired,\n\tsetCurrentUser: PropTypes.func.isRequired,\n};\n\nexport default SignInForm;\n","import PropTypes from 'prop-types';\nimport SignInForm from '../components/SignInForm';\nimport '../css/SignIn.css';\n\nfunction SignIn({ setIsLoading, setCurrentUser }) {\n\treturn (\n\t\t<div className=\"container mt-4\">\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t<div className=\"col-sm-10 col-md-8 col-lg-6\">\n\t\t\t\t\t<h1 className=\"sign-in-h1 text-primary text-center fw-bold mb-4\">\n\t\t\t\t\t\tOdin Book\n\t\t\t\t\t</h1>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<SignInForm\n\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\n\t\t\t\t\t\t\tsetCurrentUser={setCurrentUser}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nSignIn.propTypes = {\n\tsetIsLoading: PropTypes.func.isRequired,\n\tsetCurrentUser: PropTypes.func.isRequired,\n};\n\nexport default SignIn;\n","function getUserPicture(post) {\n\tconst picture = post.picture;\n\tconst postPicture = picture.isLocal\n\t\t? picture.filename === ''\n\t\t\t? ''\n\t\t\t: `${process.env.REACT_APP_API_URL}/images/${picture.filename}`\n\t\t: picture.filename;\n\treturn postPicture;\n}\n\nexport default getUserPicture;\n","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport format from 'date-fns/format';\nimport pluralize from 'pluralize';\nimport getPostPicture from '../lib/getPostPicture';\n\nfunction PostCard({ post }) {\n\tconst postPicture = getPostPicture(post);\n\n\treturn (\n\t\t<article className=\"card mb-3\">\n\t\t\t<div className=\"card-header\">\n\t\t\t\t<h5 className=\"card-title\">{post.title}</h5>\n\t\t\t\t<p className=\"card-subtitle mb-2\">\n\t\t\t\t\t{post.author.firstName + ' ' + post.author.lastName}\n\t\t\t\t</p>\n\t\t\t\t<p className=\"card-subtitle\">\n\t\t\t\t\t{format(new Date(post.updatedAt), 'PPpp')}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t{postPicture && (\n\t\t\t\t<Link to={`/posts/${post._id}`}>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={postPicture}\n\t\t\t\t\t\tclassName=\"card-img-top post-image\"\n\t\t\t\t\t\talt=\"Post\"\n\t\t\t\t\t/>\n\t\t\t\t</Link>\n\t\t\t)}\n\t\t\t<div className=\"card-body\">\n\t\t\t\t<p className=\"card-text\">{post.text}</p>\n\t\t\t\t<Link to={`/posts/${post._id}/reactions`} className=\"card-link\">\n\t\t\t\t\t{post.reactions.length} reactions\n\t\t\t\t</Link>\n\t\t\t\t<Link to={`/posts/${post._id}`} className=\"card-link\">\n\t\t\t\t\t{pluralize('comments', post.comments.length, true)}\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</article>\n\t);\n}\n\nPostCard.propTypes = {\n\tpost: PropTypes.object.isRequired,\n};\n\nexport default PostCard;\n","import PropTypes from 'prop-types';\nimport PostCard from './PostCard';\n\nfunction PostsCards({ posts }) {\n\tconst postsCards = posts.map((post) => (\n\t\t<PostCard key={post._id} post={post} />\n\t));\n\n\treturn <>{postsCards}</>;\n}\n\nPostsCards.propTypes = {\n\tposts: PropTypes.array.isRequired,\n};\n\nexport default PostsCards;\n","import { useState, useEffect } from 'react';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport useIsMounted from '../hooks/useIsMounted';\nimport getData from '../lib/getData';\nimport BootstrapSpinner from '../components/BootstrapSpinner';\nimport PostsCards from '../components/PostsCards';\n\nfunction PostsIndexView() {\n\tconst isMounted = useIsMounted();\n\n\tconst [\n\t\tisFetchingInitialCurrentPosts,\n\t\tsetIsFetchingInitialCurrentPosts,\n\t] = useState(true);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [currentPosts, setCurrentPosts] = useState([]);\n\tconst [totalPostsCount, setTotalPostsCount] = useState(undefined);\n\tconst [hasMore, setHasMore] = useState(false);\n\n\tfunction incrementCurrentPage() {\n\t\tsetCurrentPage((prevCurrentPage) => prevCurrentPage + 1);\n\t}\n\n\tuseEffect(() => {\n\t\tif (!isMounted) {\n\t\t\treturn;\n\t\t}\n\n\t\tasync function fetchAndSetData() {\n\t\t\tasync function fetchData() {\n\t\t\t\ttry {\n\t\t\t\t\treturn await getData(\n\t\t\t\t\t\t`${\n\t\t\t\t\t\t\tprocess.env.REACT_APP_API_URL\n\t\t\t\t\t\t}/posts?page=${currentPage}&limit=${10}`\n\t\t\t\t\t);\n\t\t\t\t} catch (err) {\n\t\t\t\t\twindow.alerts([{ msg: err.message }]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcurrentPage === 1 && setIsFetchingInitialCurrentPosts(true);\n\t\t\tconst data = await fetchData();\n\t\t\tcurrentPage === 1 && setIsFetchingInitialCurrentPosts(false);\n\t\t\tif (data.err) {\n\t\t\t\twindow.alerts([{ msg: data.err.message }]);\n\t\t\t} else {\n\t\t\t\tsetCurrentPosts((prevCurrentPosts) =>\n\t\t\t\t\tprevCurrentPosts.concat(data.currentPosts)\n\t\t\t\t);\n\t\t\t\tsetTotalPostsCount(data.totalPostsCount);\n\t\t\t}\n\t\t}\n\n\t\tfetchAndSetData();\n\t}, [isMounted, currentPage]);\n\n\tuseEffect(() => {\n\t\tif (!isMounted || typeof totalPostsCount !== 'number') {\n\t\t\treturn;\n\t\t}\n\t\tsetHasMore(currentPosts.length < totalPostsCount);\n\t}, [isMounted, isFetchingInitialCurrentPosts, currentPosts, totalPostsCount]);\n\n\treturn isFetchingInitialCurrentPosts ? (\n\t\t<BootstrapSpinner\n\t\t\ttype={'border'}\n\t\t\tsize={'2em'}\n\t\t\tclasses={'position-absolute top-50 start-50 translate-middle'}\n\t\t/>\n\t) : (\n\t\t<div className=\"container mt-3\">\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t<div className=\"col-md-8\">\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<InfiniteScroll\n\t\t\t\t\t\t\tdataLength={currentPosts.length}\n\t\t\t\t\t\t\tnext={incrementCurrentPage}\n\t\t\t\t\t\t\thasMore={hasMore}\n\t\t\t\t\t\t\tloader={\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t\t\t\t\t<BootstrapSpinner type={'border'} size={'2em'} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/* This div's scrollbar flickers if loader is BootstrapSpinner\n\t\t\t\t\t\t\t\t with size bigger than 1em (I only test for 1em).\n\t\t\t\t\t\t\t\t Setting overflow to none fix the problem.\n\t\t\t\t\t\t\t*/\n\t\t\t\t\t\t\tstyle={{ overflow: 'none' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PostsCards posts={currentPosts} />\n\t\t\t\t\t\t</InfiniteScroll>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default PostsIndexView;\n","import { useParams } from 'react-router-dom';\n\nfunction UsersShowView() {\n\tlet { userId } = useParams();\n\n\treturn (\n\t\t<>\n\t\t\t<h1>TODO: UsersShowView</h1>\n\t\t\t<h2>{userId}</h2>\n\t\t</>\n\t);\n}\n\nexport default UsersShowView;\n","import './App.css';\nimport { useState, useEffect } from 'react';\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\nimport { nanoid } from 'nanoid';\nimport bus from './utils/bus';\nimport getData from './lib/getData';\nimport BootstrapSpinner from './components/BootstrapSpinner';\nimport Alerts from './components/Alerts';\nimport Navbar from './components/Navbar';\nimport SignUpModal from './components/SignUpModal';\nimport SignInView from './views/SignInView';\nimport PostsIndexView from './views/PostsIndexView';\nimport UsersShowView from './views/UsersShowView';\n\nfunction App() {\n  const history = useHistory();\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [alerts, setAlerts] = useState([]);\n  const [currentUser, setCurrentUser] = useState(null);\n\n  function handleAlertDelete(alertId) {\n    const newAlerts = alerts.filter((alert) => alert.id !== alertId);\n    setAlerts(newAlerts);\n  }\n\n  function signOut() {\n    localStorage.removeItem('jwt');\n    setCurrentUser(false);\n    history.push('/');\n    window.alerts([\n      { msg: 'You have successfully signed out', type: 'success' },\n    ]);\n  }\n\n  // Listen for 'alerts' event and sets the alerts.\n  useEffect(() => {\n    bus.addListener('alerts', (alerts) => {\n      const alertsWithId = alerts.map((alert) => ({\n        ...alert,\n        id: nanoid(),\n      }));\n      setAlerts(alertsWithId);\n    });\n  }, []);\n\n  // Add a global function that emit an alerts event.\n  useEffect(() => {\n    window.alerts = (alerts) => bus.emit('alerts', alerts);\n  }, []);\n\n  useEffect(() => {\n    async function fetchAndSetCurrentUser() {\n      try {\n        const data = await getData(\n          `${process.env.REACT_APP_API_URL}/users/current-user`\n        );\n        setCurrentUser(data.currentUser);\n      } catch (err) {\n        setCurrentUser(false);\n        window.alerts([{ msg: err.message }]);\n      }\n      setIsLoading(false);\n    }\n    fetchAndSetCurrentUser();\n  }, []);\n\n  return isLoading ? (\n    <BootstrapSpinner\n      type={'grow'}\n      size={'3em'}\n      classes={'position-absolute top-50 start-50 translate-middle'}\n    />\n  ) : (\n    <>\n      {currentUser && <Navbar currentUser={currentUser} signOut={signOut} />}\n      {alerts.length > 0 && (\n        <div className=\"container\">\n          <div className=\"row justify-content-center\">\n            <div className=\"col-md-8\">\n              <Alerts alerts={alerts} onAlertDelete={handleAlertDelete} />\n            </div>\n          </div>\n        </div>\n      )}\n      <main>\n        <Switch>\n          <Route exact path=\"/\">\n            {currentUser ? (\n              <Redirect to=\"/posts\" />\n            ) : (\n              <>\n                <SignUpModal setCurrentUser={setCurrentUser} />\n                <SignInView\n                  setIsLoading={setIsLoading}\n                  setCurrentUser={setCurrentUser}\n                />\n              </>\n            )}\n          </Route>\n          <Route exact path=\"/posts\">\n            {currentUser ? <PostsIndexView /> : <Redirect to=\"/\" />}\n          </Route>\n          <Route exact path=\"/users/:userId\">\n            {currentUser ? <UsersShowView /> : <Redirect to=\"/\" />}\n          </Route>\n        </Switch>\n      </main>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport 'bootswatch/dist/cosmo/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap.bundle';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nrequire('dotenv').config();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}