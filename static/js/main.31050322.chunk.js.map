{"version":3,"sources":["utils/bus.js","lib/getData.js","components/BootstrapSpinner.js","components/Alert.js","components/Alerts.js","lib/getGravatarImage.js","lib/getProfilePicture.js","components/UsersShowNavbarLink.js","components/Navbar.js","hooks/useIsMounted.js","lib/postData.js","components/SubmitBtn.js","components/SignUpForm.js","components/SignUpModal.js","configs/facebookSdkConfig.js","components/SignInForm.js","views/SignInView.js","views/UsersShow.js","App.js","reportWebVitals.js","index.js"],"names":["EventEmitter","a","url","fetch","method","headers","Accept","Authorization","localStorage","getItem","response","json","getData","BootstrapSpinner","type","size","className","style","width","height","role","Alert","alert","onAlertDelete","useEffect","timeoutId","setTimeout","id","clearTimeout","data-id","xmlns","fill","viewBox","aria-label","d","determineAlertIcon","msg","onClick","Alerts","alerts","map","getGravatarImage","email","defaultImage","hash","md5","getProfilePicture","currentUser","currentUserProfilePicture","provider","profilePicture","filename","UsersShowNavbarLink","path","children","match","exact","to","_id","src","alt","firstName","Navbar","signOut","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","useIsMounted","useState","isMounted","setIsMouted","data","getResponse","body","JSON","stringify","postData","SubmitBtn","text","loadingText","disabled","isSubmitting","aria-hidden","defaultProps","SignUpForm","setCurrentUser","lastName","password","passwordConfirmation","state","setState","setIsSubmitting","handleInputChange","e","target","name","value","prevState","handleInputFocus","input","invalidFeedbackDivs","parentNode","querySelectorAll","length","classList","remove","removeFormErrors","signUpForm","document","getElementById","inputs","addFormErrors","errors","error","querySelector","param","formGroup","add","invalidFeedbackDiv","createElement","invalidFeedbackDivText","createTextNode","appendChild","insertAdjacentElement","preventDefault","process","err","window","message","isEmailErrorIncluded","some","user","Modal","getInstance","hide","setItem","jwt","addEventListener","onSubmit","placeholder","onChange","onFocus","SignUpModal","tabIndex","aria-labelledby","data-modal-id","modalId","dataset","fbAsyncInit","FB","init","appId","cookie","xfbml","version","AppEvents","logPageView","s","js","fjs","getElementsByTagName","insertBefore","facebookSdkConfig","SignInForm","setIsLoading","undefined","isFacebookSdkLoaded","setIsFacebookSdkLoaded","isFacebookPopupOpen","setIsFacebookLPopupOpen","facebookResponse","setFacebookResponse","getLoginStatus","sendAccessTokenToApi","userAccessToken","authResponse","accessToken","postResponse","status","isDataAccessExpired","data_access_expiration_time","Date","now","isScopesGranted","scopes","grantedScopes","split","scopesArr","scope","includes","missingGrantedScopes","notGrantedScopes","openFacebookPopup","login","handleFacebookPopupResponse","auth_type","return_scopes","show","SignIn","UsersShow","userId","useParams","App","history","useHistory","isLoading","setAlerts","bus","addListener","alertsWithId","nanoid","emit","fetchAndSetCurrentUser","removeItem","push","alertId","newAlerts","filter","SignInView","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","require","config","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.31050322.chunk.js","sourcesContent":["import EventEmitter from 'events';\n\nexport default new EventEmitter();\n","async function getData(url = '') {\n\tconst response = await fetch(url, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\tAuthorization: `Bearer ${localStorage.getItem('jwt')}`,\n\t\t},\n\t});\n\treturn response.json();\n}\n\nexport default getData;\n","import PropTypes from 'prop-types';\nimport '../css/BootstrapSpinner.css';\n\nfunction BootstrapSpinner({ type, size }) {\n\treturn (\n\t\t<div className=\"BootstrapSpinner\">\n\t\t\t<div\n\t\t\t\tclassName={`spinner-${type} text-primary`}\n\t\t\t\tstyle={{ width: size, height: size }}\n\t\t\t\trole=\"status\"\n\t\t\t>\n\t\t\t\t<span className=\"visually-hidden\">Loading...</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nBootstrapSpinner.propTypes = {\n\ttype: PropTypes.string.isRequired,\n\tsize: PropTypes.string.isRequired,\n};\n\nexport default BootstrapSpinner;\n","import { useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Alert({ alert, onAlertDelete }) {\n\tfunction determineAlertIcon(type) {\n\t\tconst size = 24;\n\t\tswitch (type) {\n\t\t\tcase 'success':\n\t\t\t\treturn (\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\twidth={size}\n\t\t\t\t\t\theight={size}\n\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\tclassName=\"bi bi-check-circle-fill flex-shrink-0 me-2\"\n\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\trole=\"img\"\n\t\t\t\t\t\taria-label=\"Success:\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z\" />\n\t\t\t\t\t</svg>\n\t\t\t\t);\n\t\t\tcase 'info':\n\t\t\t\treturn (\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\twidth={size}\n\t\t\t\t\t\theight={size}\n\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\tclassName=\"bi bi-info-circle-fill flex-shrink-0 me-2\"\n\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\trole=\"img\"\n\t\t\t\t\t\taria-label=\"Info:\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path d=\"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\" />\n\t\t\t\t\t</svg>\n\t\t\t\t);\n\t\t\tcase 'warning':\n\t\t\tcase 'danger':\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\twidth={size}\n\t\t\t\t\t\theight={size}\n\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\tclassName=\"bi bi-exclamation-circle-fill flex-shrink-0 me-2\"\n\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\trole=\"img\"\n\t\t\t\t\t\taria-label={type === 'warning' ? 'Warning:' : 'Danger:'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<path d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z\" />\n\t\t\t\t\t</svg>\n\t\t\t\t);\n\t\t}\n\t}\n\tfunction handleAlertDelete() {\n\t\tonAlertDelete(alert.id);\n\t}\n\n\t// Delete alert after 4 sec.\n\t// Timeout will reset if an alert is deleted, because of rerender.\n\tuseEffect(() => {\n\t\tconst timeoutId = setTimeout(() => onAlertDelete(alert.id), 10000);\n\t\treturn () => clearTimeout(timeoutId);\n\t}, [alert, onAlertDelete]);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`alert alert-${\n\t\t\t\talert.type || 'danger'\n\t\t\t} d-flex align-items-center alert-dismissible mb-1`}\n\t\t\trole=\"alert\"\n\t\t\tdata-id={alert.id}\n\t\t>\n\t\t\t{determineAlertIcon(alert.type)}\n\t\t\t<div>{alert.msg}</div>\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"btn-close\"\n\t\t\t\taria-label=\"Close\"\n\t\t\t\tonClick={handleAlertDelete}\n\t\t\t></button>\n\t\t</div>\n\t);\n}\n\nAlert.propTypes = {\n\talert: PropTypes.object.isRequired,\n\tonAlertDelete: PropTypes.func.isRequired,\n};\n\nexport default Alert;\n","import PropTypes from 'prop-types';\nimport Alert from './Alert';\n\nfunction Alerts({ alerts, onAlertDelete }) {\n\treturn (\n\t\t<>\n\t\t\t{alerts.map((alert) => (\n\t\t\t\t<Alert key={alert.id} alert={alert} onAlertDelete={onAlertDelete} />\n\t\t\t))}\n\t\t</>\n\t);\n}\n\nAlerts.propTypes = {\n\talerts: PropTypes.array.isRequired,\n\tonAlertDelete: PropTypes.func.isRequired,\n};\n\nexport default Alerts;\n","import md5 from 'crypto-js/md5';\n\nfunction getGravatarImage(email, size = '80', defaultImage = 'mp') {\n\tconst hash = md5(email);\n\tconst url = `https://www.gravatar.com/avatar/${hash}?s=${size}&d=${defaultImage}`;\n\treturn url;\n}\n\nexport default getGravatarImage;\n","import getGravatarImage from './getGravatarImage';\n\nfunction getProfilePicture(currentUser, size = '80', defaultImage = 'mp') {\n\tconst currentUserProfilePicture =\n\t\tcurrentUser.provider === 'local'\n\t\t\t? currentUser.profilePicture.filename === ''\n\t\t\t\t? getGravatarImage(currentUser.email, size, defaultImage)\n\t\t\t\t: currentUser.profilePicture.filename\n\t\t\t: currentUser.profilePicture.filename;\n\n\treturn currentUserProfilePicture;\n}\n\nexport default getProfilePicture;\n","import PropTypes from 'prop-types';\nimport { Route, NavLink } from 'react-router-dom';\nimport getProfilePicture from '../lib/getProfilePicture';\n\nfunction UsersShowNavbarLink({ currentUser }) {\n  return (\n    <Route\n      path=\"/users/userId\"\n      children={({ match }) => (\n        <NavLink\n          className={`nav-link ${match ? 'active' : ''}`}\n          {...(match && { 'aria-current': 'page' })}\n          exact\n          to={`/users/${currentUser._id}`}\n        >\n          <img\n            className=\"rounded-circle me-2\"\n            src={getProfilePicture(currentUser)}\n            alt=\"Current user profile\"\n            width=\"28\"\n            height=\"28\"\n          />\n          <span>{currentUser.firstName}</span>\n        </NavLink>\n      )}\n    />\n  );\n}\n\nUsersShowNavbarLink.propTypes = {\n  currentUser: PropTypes.object.isRequired,\n};\n\nexport default UsersShowNavbarLink;\n","import PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport UsersShowNavbarLink from './UsersShowNavbarLink';\n\nfunction Navbar({ currentUser, signOut }) {\n  return (\n    <nav className=\"navbar navbar-expand-sm navbar-dark bg-dark sticky-top\">\n      <div className=\"container-fluid\">\n        <NavLink className=\"navbar-brand\" to=\"/posts\">\n          Odin Book\n        </NavLink>\n        <button\n          className=\"navbar-toggler\"\n          type=\"button\"\n          data-bs-toggle=\"collapse\"\n          data-bs-target=\"#navbarSupportedContent\"\n          aria-controls=\"navbarSupportedContent\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n          <ul className=\"navbar-nav ms-auto mb-2 mb-sm-0\">\n            <li className=\"nav-item me-4\">\n              <UsersShowNavbarLink currentUser={currentUser} />\n            </li>\n            <li className=\"nav-item\">\n              <button\n                type=\"button\"\n                className=\"btn btn-outline-light\"\n                onClick={signOut}\n              >\n                Sign out\n              </button>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n}\n\nNavbar.propTypes = {\n  currentUser: PropTypes.object.isRequired,\n  signOut: PropTypes.func.isRequired,\n};\n\nexport default Navbar;\n","import { useEffect, useState } from 'react';\n\nfunction useIsMounted() {\n\tconst [isMounted, setIsMouted] = useState(false);\n\n\tuseEffect(() => {\n\t\tsetIsMouted(true);\n\t\treturn () => setIsMouted(false);\n\t}, []);\n\n\treturn isMounted;\n}\n\nexport default useIsMounted;\n","async function postData(url = '', data = {}, getResponse = false) {\n\tconst response = await fetch(url, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tAuthorization: `Bearer ${localStorage.getItem('jwt')}`,\n\t\t},\n\t\tbody: JSON.stringify(data),\n\t});\n\treturn getResponse ? response : response.json();\n}\n\nexport default postData;\n","import PropTypes from 'prop-types';\n\nfunction SubmitBtn({ className, text, loadingText, disabled, isSubmitting }) {\n\treturn (\n\t\t<button\n\t\t\ttype=\"submit\"\n\t\t\tclassName={className}\n\t\t\tdisabled={disabled || isSubmitting}\n\t\t>\n\t\t\t{isSubmitting ? (\n\t\t\t\t<>\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName=\"spinner-border spinner-border-sm fw-bold\"\n\t\t\t\t\t\trole=\"status\"\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t></span>\n\t\t\t\t\t{loadingText}\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<span className=\"fw-bold\">{text}</span>\n\t\t\t)}\n\t\t</button>\n\t);\n}\n\nSubmitBtn.defaultProps = {\n\tclassName: '',\n\ttext: 'Submit',\n\tdisabled: false,\n};\n\nSubmitBtn.propTypes = {\n\tclassName: PropTypes.string.isRequired,\n\ttext: PropTypes.string.isRequired,\n\tloadingText: PropTypes.string.isRequired,\n\tdisabled: PropTypes.bool.isRequired,\n\tisSubmitting: PropTypes.bool.isRequired,\n};\n\nexport default SubmitBtn;\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal } from 'bootstrap/dist/js/bootstrap.bundle';\nimport useIsMounted from '../hooks/useIsMounted';\nimport postData from '../lib/postData';\nimport SubmitBtn from './SubmitBtn';\n\nfunction SignUpForm({ setCurrentUser }) {\n\tconst isMounted = useIsMounted();\n\n\tconst [state, setState] = useState({\n\t\tfirstName: '',\n\t\tlastName: '',\n\t\temail: '',\n\t\tpassword: '',\n\t\tpasswordConfirmation: '',\n\t});\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\n\n\tfunction handleInputChange(e) {\n\t\tconst target = e.target;\n\t\tconst name = target.name;\n\t\tconst value = target.value;\n\t\tsetState((prevState) => ({ ...prevState, [name]: value }));\n\t}\n\n\tfunction handleInputFocus(e) {\n\t\tconst input = e.target;\n\t\tconst formGroup = input.parentNode;\n\t\tconst invalidFeedbackDivs = formGroup.querySelectorAll('.invalid-feedback');\n\t\tif (invalidFeedbackDivs.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tinput.classList.remove('is-invalid');\n\t\tfor (const invalidFeedbackDiv of invalidFeedbackDivs) {\n\t\t\tinvalidFeedbackDiv.remove();\n\t\t}\n\t}\n\n\tfunction removeFormErrors() {\n\t\tconst signUpForm = document.getElementById('signUpForm');\n\t\tif (signUpForm) {\n\t\t\tconst invalidFeedbackDivs = signUpForm.querySelectorAll(\n\t\t\t\t'.invalid-feedback'\n\t\t\t);\n\t\t\tif (invalidFeedbackDivs.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst inputs = signUpForm.querySelectorAll('input');\n\t\t\tfor (const input of inputs) {\n\t\t\t\tinput.classList.remove('is-invalid');\n\t\t\t}\n\t\t\tfor (const invalidFeedbackDiv of invalidFeedbackDivs) {\n\t\t\t\tinvalidFeedbackDiv.remove();\n\t\t\t}\n\t\t}\n\t}\n\n\tasync function handleSubmit(e) {\n\t\te.preventDefault();\n\t\tremoveFormErrors();\n\t\tsetIsSubmitting(true);\n\t\tfunction addFormErrors(errors) {\n\t\t\tconst signUpForm = document.getElementById('signUpForm');\n\t\t\tfor (const error of errors) {\n\t\t\t\tconst input = signUpForm.querySelector(`input[name='${error.param}']`);\n\t\t\t\tconst formGroup = input.parentNode;\n\t\t\t\tinput.classList.add('is-invalid');\n\t\t\t\tconst invalidFeedbackDiv = document.createElement('div');\n\t\t\t\tinvalidFeedbackDiv.classList.add('invalid-feedback');\n\t\t\t\tconst invalidFeedbackDivText = document.createTextNode(error.msg);\n\t\t\t\tinvalidFeedbackDiv.appendChild(invalidFeedbackDivText);\n\t\t\t\tformGroup.insertAdjacentElement('beforeend', invalidFeedbackDiv);\n\t\t\t}\n\t\t}\n\n\t\ttry {\n\t\t\tconst data = await postData(\n\t\t\t\t`${process.env.REACT_APP_API_URL}/users`,\n\t\t\t\tstate\n\t\t\t);\n\t\t\tsetIsSubmitting(false);\n\t\t\tif (data.err) {\n\t\t\t\twindow.alerts([{ msg: data.err.message }]);\n\t\t\t} else if (data.errors) {\n\t\t\t\tconst isEmailErrorIncluded = data.errors.some((error) => {\n\t\t\t\t\treturn error.param === 'email';\n\t\t\t\t});\n\t\t\t\tisMounted &&\n\t\t\t\t\tsetState({\n\t\t\t\t\t\tfirstName: data.user.firstName,\n\t\t\t\t\t\tlastName: data.user.lastName,\n\t\t\t\t\t\t/* Validator package normalizeEmail() adds a '@' at the front\n\t\t\t\t\t\t   if email is not valid.\n\t\t\t\t\t\t*/\n\t\t\t\t\t\temail: isEmailErrorIncluded ? '' : data.user.email,\n\t\t\t\t\t\tpassword: '',\n\t\t\t\t\t\tpasswordConfirmation: '',\n\t\t\t\t\t});\n\t\t\t\taddFormErrors(data.errors);\n\t\t\t} else {\n\t\t\t\tconst bsSignUpModal = Modal.getInstance(\n\t\t\t\t\tdocument.getElementById('signUpModal')\n\t\t\t\t);\n\t\t\t\tbsSignUpModal.hide();\n\t\t\t\tlocalStorage.setItem('jwt', data.jwt);\n\t\t\t\tsetCurrentUser(data.user);\n\t\t\t\twindow.alerts([\n\t\t\t\t\t{ msg: 'You have successfuly signed up', type: 'success' },\n\t\t\t\t]);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetIsSubmitting(false);\n\t\t\twindow.alerts([{ msg: err.message }]);\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tconst signUpModal = document.getElementById('signUpModal');\n\t\t// Reset state when sign up modal gets hidden.\n\t\tsignUpModal.addEventListener('hidden.bs.modal', (e) => {\n\t\t\tremoveFormErrors();\n\t\t\tsetState({\n\t\t\t\tfirstName: '',\n\t\t\t\tlastName: '',\n\t\t\t\temail: '',\n\t\t\t\tpassword: '',\n\t\t\t\tpasswordConfirmation: '',\n\t\t\t});\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<form onSubmit={handleSubmit} id=\"signUpForm\">\n\t\t\t<div className=\"mb-3\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tplaceholder=\"First name\"\n\t\t\t\t\taria-label=\"First name\"\n\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\tvalue={state.firstName}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tonFocus={handleInputFocus}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"mb-3\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tplaceholder=\"Last name\"\n\t\t\t\t\taria-label=\"Last name\"\n\t\t\t\t\tname=\"lastName\"\n\t\t\t\t\tvalue={state.lastName}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tonFocus={handleInputFocus}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"mb-3\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\taria-label=\"Email\"\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\tvalue={state.email}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tonFocus={handleInputFocus}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"mb-3\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\taria-label=\"Password\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tvalue={state.password}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tonFocus={handleInputFocus}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"mb-3\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tplaceholder=\"Password confirmation\"\n\t\t\t\t\taria-label=\"Password confirmation\"\n\t\t\t\t\tname=\"passwordConfirmation\"\n\t\t\t\t\tvalue={state.passwordConfirmation}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\tonFocus={handleInputFocus}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<SubmitBtn\n\t\t\t\tclassName=\"btn btn-success btn-lg w-100 rounded-3\"\n\t\t\t\ttext=\"Sign Up\"\n\t\t\t\tloadingText=\"Signing Up...\"\n\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t/>\n\t\t</form>\n\t);\n}\n\nSignUpForm.propTypes = {\n\tsetCurrentUser: PropTypes.func.isRequired,\n};\n\nexport default SignUpForm;\n","import PropTypes from 'prop-types';\nimport { Modal } from 'bootstrap/dist/js/bootstrap.bundle';\nimport SignUpForm from './SignUpForm';\n\nfunction SignUpModal({ setCurrentUser }) {\n\tfunction hideModal(e) {\n\t\tconst modalId = e.target.dataset.modalId;\n\t\tconst bsSignUpModal = Modal.getInstance(document.getElementById(modalId));\n\t\tbsSignUpModal.hide();\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"modal fade\"\n\t\t\tid=\"signUpModal\"\n\t\t\ttabIndex=\"-1\"\n\t\t\taria-labelledby=\"signUpModalLabel\"\n\t\t\taria-hidden=\"true\"\n\t\t>\n\t\t\t<div className=\"modal-dialog\">\n\t\t\t\t<div className=\"modal-content\">\n\t\t\t\t\t<div className=\"modal-header\">\n\t\t\t\t\t\t<h3 className=\"modal-title\" id=\"signUpModalLabel\">\n\t\t\t\t\t\t\tSign Up\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn-close\"\n\t\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\t\tdata-modal-id={'signUpModal'}\n\t\t\t\t\t\t\tonClick={hideModal}\n\t\t\t\t\t\t></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"modal-body\">\n\t\t\t\t\t\t<SignUpForm setCurrentUser={setCurrentUser} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nSignUpModal.propTypes = {\n\tsetCurrentUser: PropTypes.func.isRequired,\n};\n\nexport default SignUpModal;\n","function facebookSdkConfig() {\n\t/* Facebook SDK is blocked \n\t     by blockers (Firefox Tracking Protection, uBlock Origin, etc...).\n\t   Even if window.FB is set, some resource inside Facebook SDK is blocked too. \n\t   Therefore crashing the app (can't try catch).\n\t*/\n\n\t// Facebook SDK call this function automatically (with delay).\n\twindow.fbAsyncInit = function () {\n\t\twindow.FB.init({\n\t\t\tappId: `${process.env.REACT_APP_FACEBOOK_APP_ID}`,\n\t\t\tcookie: true,\n\t\t\txfbml: true,\n\t\t\tversion: 'v10.0',\n\t\t});\n\n\t\twindow.FB.AppEvents.logPageView();\n\t};\n\n\t// Insert Facebook SDK.\n\t(function (d, s, id) {\n\t\tvar js,\n\t\t\tfjs = d.getElementsByTagName(s)[0];\n\t\tif (d.getElementById(id)) {\n\t\t\treturn;\n\t\t}\n\t\tjs = d.createElement(s);\n\t\tjs.id = id;\n\t\tjs.src = 'https://connect.facebook.net/en_US/sdk.js';\n\t\tfjs.parentNode.insertBefore(js, fjs);\n\t})(document, 'script', 'facebook-jssdk');\n}\n\nexport default facebookSdkConfig;\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal } from 'bootstrap/dist/js/bootstrap.bundle';\nimport facebookSdkConfig from '../configs/facebookSdkConfig';\nimport useIsMounted from '../hooks/useIsMounted';\nimport postData from '../lib/postData';\nimport SubmitBtn from './SubmitBtn';\n\nfacebookSdkConfig();\n\nfunction SignInForm({ setIsLoading, setCurrentUser }) {\n\tconst isMounted = useIsMounted();\n\n\tconst [state, setState] = useState({\n\t\temail: '',\n\t\tpassword: '',\n\t});\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\n\tconst [isFacebookSdkLoaded, setIsFacebookSdkLoaded] = useState(undefined);\n\tconst [isFacebookPopupOpen, setIsFacebookLPopupOpen] = useState(false);\n\tconst [facebookResponse, setFacebookResponse] = useState({});\n\n\tfunction handleInputChange(e) {\n\t\tconst target = e.target;\n\t\tconst name = target.name;\n\t\tconst value = target.value;\n\t\tsetState((prevState) => ({ ...prevState, [name]: value }));\n\t}\n\n\tasync function handleSubmit(e) {\n\t\ttry {\n\t\t\te.preventDefault();\n\t\t\tsetIsSubmitting(true);\n\t\t\tconst data = await postData(\n\t\t\t\t`${process.env.REACT_APP_API_URL}/auth/local`,\n\t\t\t\tstate\n\t\t\t);\n\t\t\tsetIsSubmitting(false);\n\t\t\tif (data.err) {\n\t\t\t\tisMounted && setState((prevState) => ({ ...prevState, password: '' }));\n\t\t\t\twindow.alerts([{ msg: data.err.message }]);\n\t\t\t} else {\n\t\t\t\tlocalStorage.setItem('jwt', data.jwt);\n\t\t\t\tsetCurrentUser(data.currentUser);\n\t\t\t\twindow.alerts([\n\t\t\t\t\t{ msg: 'You have successfuly signed in', type: 'success' },\n\t\t\t\t]);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetIsSubmitting(false);\n\t\t\twindow.alerts([{ msg: err.message }]);\n\t\t}\n\t}\n\n\tfunction handleFacebookBtnClick() {\n\t\tif (!isFacebookSdkLoaded || isFacebookPopupOpen) {\n\t\t\treturn;\n\t\t}\n\n\t\tasync function sendAccessTokenToApi(response) {\n\t\t\tsetIsLoading(true);\n\t\t\ttry {\n\t\t\t\tconst postResponse = await postData(\n\t\t\t\t\t`${process.env.REACT_APP_API_URL}/auth/facebook`,\n\t\t\t\t\t{ userAccessToken: response.authResponse.accessToken },\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tconst data = await postResponse.json();\n\t\t\t\tif (data.err) {\n\t\t\t\t\twindow.alerts([{ msg: data.err.message }]);\n\t\t\t\t} else {\n\t\t\t\t\tlocalStorage.setItem('jwt', data.jwt);\n\t\t\t\t\tsetCurrentUser(data.currentUser);\n\t\t\t\t\twindow.alerts([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmsg: `You have successfuly ${\n\t\t\t\t\t\t\t\tpostResponse.status === 200 ? 'signed in' : 'signed up'\n\t\t\t\t\t\t\t}`,\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t},\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\twindow.alerts([{ msg: err.message }]);\n\t\t\t}\n\t\t\tsetIsLoading(false);\n\t\t}\n\n\t\tfunction handleFacebookPopupResponse(response) {\n\t\t\tif (response.status === 'connected') {\n\t\t\t\tif (\n\t\t\t\t\tisDataAccessExpired(response) ||\n\t\t\t\t\t!isScopesGranted(response, 'public_profile,email')\n\t\t\t\t) {\n\t\t\t\t\twindow.alerts([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmsg:\n\t\t\t\t\t\t\t\t'Facebook email is required. Please select the Facebook button again.',\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t},\n\t\t\t\t\t]);\n\t\t\t\t} else {\n\t\t\t\t\tsendAccessTokenToApi(response);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction isDataAccessExpired(response) {\n\t\t\tif (!response || !response.data_access_expiration_time) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tconst dataAccessExpirationInMilliseconds =\n\t\t\t\t\tresponse.authResponse.data_access_expiration_time * 1000;\n\t\t\t\treturn dataAccessExpirationInMilliseconds <= Date.now();\n\t\t\t}\n\t\t}\n\n\t\tfunction isScopesGranted(response, scopes) {\n\t\t\tif (\n\t\t\t\t!response ||\n\t\t\t\t!response.authResponse ||\n\t\t\t\t!response.authResponse.grantedScopes\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tconst grantedScopes = response.authResponse.grantedScopes.split(',');\n\t\t\t\tconst scopesArr = scopes.split(',');\n\t\t\t\tfor (const scope of scopesArr) {\n\t\t\t\t\tif (!grantedScopes.includes(scope)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tfunction missingGrantedScopes(response, scopes) {\n\t\t\tif (\n\t\t\t\t!response ||\n\t\t\t\t!response.authResponse ||\n\t\t\t\t!response.authResponse.grantedScopes\n\t\t\t) {\n\t\t\t\treturn scopes;\n\t\t\t} else {\n\t\t\t\tconst grantedScopes = response.authResponse.grantedScopes.split(',');\n\t\t\t\tconst scopesArr = scopes.split(',');\n\t\t\t\tlet notGrantedScopes = '';\n\t\t\t\tfor (const scope of scopesArr) {\n\t\t\t\t\tif (!grantedScopes.includes(scope)) {\n\t\t\t\t\t\tif (notGrantedScopes.length > 0) {\n\t\t\t\t\t\t\tnotGrantedScopes += ',';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnotGrantedScopes += scope;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn notGrantedScopes;\n\t\t\t}\n\t\t}\n\n\t\tfunction openFacebookPopup(response) {\n\t\t\tsetIsFacebookLPopupOpen(true);\n\t\t\twindow.FB.login(\n\t\t\t\t(response) => {\n\t\t\t\t\tsetIsFacebookLPopupOpen(false);\n\t\t\t\t\tsetFacebookResponse(response);\n\t\t\t\t\thandleFacebookPopupResponse(response);\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tscope: missingGrantedScopes(response, 'public_profile,email'),\n\t\t\t\t\t...(response.status === 'connected'\n\t\t\t\t\t\t? isDataAccessExpired(response)\n\t\t\t\t\t\t\t? { auth_type: 'reauthorize' }\n\t\t\t\t\t\t\t: !isScopesGranted(response, 'public_profile,email')\n\t\t\t\t\t\t\t? { auth_type: 'rerequest' }\n\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t: {}),\n\t\t\t\t\treturn_scopes: true,\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tfunction statusChangeCallback(response) {\n\t\t\tif (response.status !== 'connected') {\n\t\t\t\topenFacebookPopup(response);\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tisDataAccessExpired(response) ||\n\t\t\t\t\t!isScopesGranted(response, 'public_profile,email')\n\t\t\t\t) {\n\t\t\t\t\topenFacebookPopup(response);\n\t\t\t\t} else {\n\t\t\t\t\tsendAccessTokenToApi(response);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tstatusChangeCallback(facebookResponse);\n\t}\n\n\tfunction showModal(e) {\n\t\tconst modalId = e.target.dataset.modalId;\n\t\tconst bsSignUpModal = new Modal(document.getElementById(modalId));\n\t\tbsSignUpModal.show();\n\t}\n\n\tuseEffect(() => {\n\t\tconst timeoutId = setTimeout(() => {\n\t\t\tif (window.FB) {\n\t\t\t\tsetIsFacebookSdkLoaded(true);\n\t\t\t\t/* Firefox blocks Facebook popup if this is the\n\t\t\t\t\t\t first function to be called inside handleFacebookBtnClick()\n\t\t\t\t*/\n\t\t\t\twindow.FB.getLoginStatus((response) => {\n\t\t\t\t\tsetFacebookResponse(response);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetIsFacebookSdkLoaded(false);\n\t\t\t\twindow.alerts([\n\t\t\t\t\t{\n\t\t\t\t\t\tmsg:\n\t\t\t\t\t\t\t'Facebook button is disabled because the Facebook SDK is blocked.',\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t},\n\t\t\t\t]);\n\t\t\t}\n\t\t}, 1500);\n\t\treturn () => clearTimeout(timeoutId);\n\t}, []);\n\n\treturn (\n\t\t<form onSubmit={handleSubmit} className=\"p-4 bg-white rounded-3 shadow\">\n\t\t\t<div className=\"mb-3\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control form-control-lg\"\n\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\taria-label=\"Email\"\n\t\t\t\t\tdisabled={isFacebookPopupOpen}\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\tvalue={state.email}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"mb-3\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tclassName=\"form-control form-control-lg\"\n\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\taria-label=\"Password\"\n\t\t\t\t\tdisabled={isFacebookPopupOpen}\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tvalue={state.password}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<SubmitBtn\n\t\t\t\tclassName=\"btn btn-primary btn-lg w-100 rounded-3 mb-2\"\n\t\t\t\ttext=\"Sign In\"\n\t\t\t\tloadingText=\"Signing In...\"\n\t\t\t\tdisabled={isFacebookPopupOpen}\n\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t/>\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"btn btn-primary btn-lg w-100 rounded-3\"\n\t\t\t\tdisabled={!isFacebookSdkLoaded || isFacebookPopupOpen}\n\t\t\t\tonClick={handleFacebookBtnClick}\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\twidth=\"30\"\n\t\t\t\t\theight=\"30\"\n\t\t\t\t\tfill=\"#fff\"\n\t\t\t\t\tclassName=\"bi bi-facebook\"\n\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\trole=\"img\"\n\t\t\t\t\taria-label=\"Facebook icon\"\n\t\t\t\t>\n\t\t\t\t\t<path d=\"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z\" />\n\t\t\t\t</svg>\n\t\t\t\t<span className=\"fw-bold ms-2\">Continue with Facebook</span>\n\t\t\t</button>\n\t\t\t<div className=\"border-bottom my-4\"></div>\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"btn btn-success btn-lg w-100 rounded-3\"\n\t\t\t\tdata-modal-id=\"signUpModal\"\n\t\t\t\tdisabled={isFacebookPopupOpen}\n\t\t\t\tonClick={showModal}\n\t\t\t>\n\t\t\t\t<span className=\"fw-bold pe-none\">Create New Account</span>\n\t\t\t</button>\n\t\t</form>\n\t);\n}\n\nSignInForm.propTypes = {\n\tsetIsLoading: PropTypes.func.isRequired,\n\tsetCurrentUser: PropTypes.func.isRequired,\n};\n\nexport default SignInForm;\n","import PropTypes from 'prop-types';\nimport SignInForm from '../components/SignInForm';\nimport '../css/SignIn.css';\n\nfunction SignIn({ setIsLoading, setCurrentUser }) {\n\treturn (\n\t\t<div className=\"container mt-4\">\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t<div className=\"col-sm-10 col-md-8 col-lg-6\">\n\t\t\t\t\t<h1 className=\"sign-in-h1 text-primary text-center fw-bold mb-4\">\n\t\t\t\t\t\tOdin Book\n\t\t\t\t\t</h1>\n\t\t\t\t\t<section>\n\t\t\t\t\t\t<SignInForm\n\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\n\t\t\t\t\t\t\tsetCurrentUser={setCurrentUser}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nSignIn.propTypes = {\n\tsetIsLoading: PropTypes.func.isRequired,\n\tsetCurrentUser: PropTypes.func.isRequired,\n};\n\nexport default SignIn;\n","import { useParams } from 'react-router-dom';\n\nfunction UsersShow() {\n\tlet { userId } = useParams();\n\n\treturn (\n\t\t<>\n\t\t\t<h1>TODO: UsersShow</h1>\n\t\t\t<h2>{userId}</h2>\n\t\t</>\n\t);\n}\n\nexport default UsersShow;\n","import './App.css';\nimport { useState, useEffect } from 'react';\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\nimport { nanoid } from 'nanoid';\nimport bus from './utils/bus';\nimport getData from './lib/getData';\nimport BootstrapSpinner from './components/BootstrapSpinner';\nimport Alerts from './components/Alerts';\nimport Navbar from './components/Navbar';\nimport SignUpModal from './components/SignUpModal';\nimport SignInView from './views/SignInView';\nimport UsersShow from './views/UsersShow';\n\nfunction App() {\n  const history = useHistory();\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [alerts, setAlerts] = useState([]);\n  const [currentUser, setCurrentUser] = useState(null);\n\n  function handleAlertDelete(alertId) {\n    const newAlerts = alerts.filter((alert) => alert.id !== alertId);\n    setAlerts(newAlerts);\n  }\n\n  function signOut() {\n    localStorage.removeItem('jwt');\n    setCurrentUser(false);\n    history.push('/');\n    window.alerts([\n      { msg: 'You have successfully signed out', type: 'success' },\n    ]);\n  }\n\n  // Listen for 'alerts' event and sets the alerts.\n  useEffect(() => {\n    bus.addListener('alerts', (alerts) => {\n      const alertsWithId = alerts.map((alert) => ({\n        ...alert,\n        id: nanoid(),\n      }));\n      setAlerts(alertsWithId);\n    });\n  }, []);\n\n  // Add a global function that emit an alerts event.\n  useEffect(() => {\n    window.alerts = (alerts) => bus.emit('alerts', alerts);\n  }, []);\n\n  useEffect(() => {\n    async function fetchAndSetCurrentUser() {\n      try {\n        const data = await getData(\n          `${process.env.REACT_APP_API_URL}/users/current-user`\n        );\n        setCurrentUser(data.currentUser);\n      } catch (err) {\n        setCurrentUser(false);\n        window.alerts([{ msg: err.message }]);\n      }\n      setIsLoading(false);\n    }\n    fetchAndSetCurrentUser();\n  }, []);\n\n  return isLoading ? (\n    <BootstrapSpinner type={'grow'} size={'3em'} />\n  ) : (\n    <>\n      {currentUser && <Navbar currentUser={currentUser} signOut={signOut} />}\n      {alerts.length > 0 && (\n        <div className=\"container\">\n          <div className=\"row justify-content-center\">\n            <div className=\"col-md-8\">\n              <Alerts alerts={alerts} onAlertDelete={handleAlertDelete} />\n            </div>\n          </div>\n        </div>\n      )}\n      <main>\n        <Switch>\n          <Route exact path=\"/\">\n            {currentUser ? (\n              <Redirect to=\"/posts\" />\n            ) : (\n              <>\n                <SignUpModal setCurrentUser={setCurrentUser} />\n                <SignInView\n                  setIsLoading={setIsLoading}\n                  setCurrentUser={setCurrentUser}\n                />\n              </>\n            )}\n          </Route>\n          <Route exact path=\"/posts\">\n            {currentUser ? (\n              <>\n                <h1>TODO: timeline</h1>\n                {JSON.stringify(currentUser)}\n              </>\n            ) : (\n              <Redirect to=\"/\" />\n            )}\n          </Route>\n          <Route exact path=\"/users/:userId\">\n            {currentUser ? <UsersShow /> : <Redirect to=\"/\" />}\n          </Route>\n        </Switch>\n      </main>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport 'bootswatch/dist/cosmo/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap.bundle';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nrequire('dotenv').config();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}